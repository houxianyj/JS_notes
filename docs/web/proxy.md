# 什么是代理

代理其实就是一个中介,`A`和`B`本来可以直连,中间插入一个`C`,`C`就是中介.
刚开始的时候,代理多数是帮助内网`client`访问外网`server`用的

# 正向代理

正向代理类似一个跳板机，代理访问外部资源.

最常见的就是翻墙工具以及`vpn`,甚至可以理解正向代理就是伪装

> 买票的黄牛

 A(客户端)想租C(服务端)的房子,但是A(客户端)并不认识C(服务端)租不到。
 B(代理)认识C(服务端)能租这个房子所以你找了B(代理)帮忙租到了这个房子。

这个过程中C(服务端)不认识A(客户端)只认识B(代理)
 C(服务端)并不知道A(客户端)租了房子，只知道房子租给了B(代理)。

就是现在的贝壳租房

![](https://gitee.com/Uvdream/images/raw/master/images/20210126153917.png)

**正向代理的用途：**

　　（1）访问原来无法访问的资源，如`google`

​    	（2） 可以做缓存，加速访问资源

　　（3）对客户端访问授权，上网进行认证

　　（4）代理可以记录用户访问记录（上网行为管理），对外隐藏用户信息]



# 反向代理

反向代理（`Reverse Proxy`）实际运行方式是指以代理服务器来接受`internet`上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给`internet`上请求连接的客户端，此时代理服务器对外就表现为一个服务器

说白了就是让客户端访问不同的网站,客户端的感知就是一个服务器,其实后面是更多的服务器集结到了一台服务器上

> 租房的代理

A(客户端)想租一个房子,B(代理)就把这个房子租给了他。
这时候实际上C(服务端)才是房东。
B(代理)是中介把这个房子租给了A(客户端)。

就是现在的链家



![反向代理](https://gitee.com/Uvdream/images/raw/master/images/20210126152527.png)

#### 反向代理的作用：

（1）保证内网的安全，阻止web攻击，大型网站，通常将反向代理作为公网访问地址，Web服务器是内网

（2）负载均衡，通过反向代理服务器来优化网站的负载